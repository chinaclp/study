<html> 

  <head>

    <h1>hello!</h1>

  </head>   

  <body> 

    <table>
      <thead>
        <tr>
          <th>标题</th> 
          <th>摘要</th> 
          <th>作者</th>
          <th>评论数量</th> 
          <th>操作</th> 
        </tr> 
      </thead>

      <tbody>
        <% @articles.each do |article| %>
          <tr>
            <td>
              <%= article.title %>
              <%= link_to '详情',article_path(:id => article.id) %>
            </td>
            <td><%= article.summary %></td>
            <td><%= article.user.name if article.user %></td>     <!-- if判断是否有用户名-->
            <td><%= article.comments_number %></td>
            <td>
              <%= link_to '修改', edit_article_path(:id => article.id), :method => 'get'%>
              <%= link_to '删除', article_path( :id => article.id ), :method => 'delete' %>
            </td>
          </tr>
        <% end %>
      </tbody>

    </body> 

  </table>

  <div> 
    <%= link_to '新建', new_article_path %>
    <%= link_to '返回主页面',root_path%>
  </div> 
  <%= form_tag articles_path, :method => :get do %> 
  <div class="field"> 
    <%= label_tag "查询关键字" %><br />  
    <%= text_field_tag :content %>  
  </div>
  <%= submit_tag "提交" %>
<% end %>

</html> 
