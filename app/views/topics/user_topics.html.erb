<table> 
  <tr>
    <th>标题</th> 
    <th>作者</th>
    <th>评论数量</th> 
    <th>操作</th> 
  </tr> 
  <% @topics.each do |topic| %>
    <tr>
      <td>
        <%= topic.title %>
        <%= link_to '详情',topic_path(:id => topic.id) %>
      </td>
      <td><%= topic.user.name if topic.user %></td>     <!-- if判断是否有用户名-->
      <td><%= topic.comments_number %></td>
      <td>            
        <%= link_to '详情',topic_path(:id => topic.id) %>
        <%= link_to '修改',edit_topic_path(:id => topic.id),:method => 'get'%>
        <%= link_to '删除',topic_path(:id => topic.id),:method => 'delete'%>
      </td>
    </tr>
  <% end %>
</table> 
